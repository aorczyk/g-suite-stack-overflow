<script>
  function jsUcfirst(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
  }

  Vue.component('spinner', {
    template: `
      <div class="modal is-active">
        <div class="modal-background"></div>
        <div class="modal-content" style="overflow: hidden;">
          <div class="sk-folding-cube">
            <div class="sk-cube1 sk-cube"></div>
            <div class="sk-cube2 sk-cube"></div>
            <div class="sk-cube4 sk-cube"></div>
            <div class="sk-cube3 sk-cube"></div>
          </div>
        </div>
      </div>
      `
  });


  Vue.component('edit', {
    props: ['item','type'],
    data: function(){
      return {
        sharedState: store.state,
      }
    },
    computed: {
      isEnabled() {
        return this.item.canEdit;
      },
      title() {
        return this.item.edited ? 'Edited: ' + this.item.edited : 'Edit'
      }
    },
    methods: {
      edit() {
        if (this.isEnabled){
          this.$emit('edit', this.item);
        }
      }
    },
    template: 
    `<span>
      <span :class="[isEnabled ? 'action-icon' : 'action-icon-disabled']" @click="edit" :title="title" v-if="isEnabled || item.edited">
        <span v-if="type === 'icon'"> <i class="fas fa-pen"></i></span>
        <span v-else>edit</span>
      </span>
      <span v-if="item.status == 'Deleted'">Deleted</span>
    </span>
    `
  });
</script>